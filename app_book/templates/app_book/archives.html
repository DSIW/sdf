{% extends 'base.html' %}

{% block body_classes %}archive{% endblock %}

{% block content %}
    <div class="container">
        <ul class="collection with-header" style="margin-top: 35px">
            <li class="collection-header">
                <h4>
                    Ihre Bücher
                    <a class="secondary-content btn-flat" href="{% url 'app_book:createBook' %}">Buch anlegen</a>
                </h4>
            </li>
            {% for book in allBooks %}
            <li class="collection-item">
                <div>
                    <i class="offer-state {% if book.is_published %}active{% else %}inactive{% endif %} tooltipped" data-tooltip="Status: {% if book.is_published %}Öffentlich{% else %}Nicht öffentlich{% endif %}"></i>
                    {{ book.name }}

                    <a class='secondary-content dropdown-button' href='javascript:void(0);' data-activates='book-{{ book.id }}-actions' data-constrainwidth="false">
                        <i class="material-icons">more_vert</i>
                    </a>
                    <ul id='book-{{ book.id }}-actions' class='dropdown-content'>
                        {% if book.is_published %}
                            <li><a href="{% url 'app_book:unpublishBook' book.id %}" data-method="put">Nicht veröffentlichen</a></li>
                        {% else %}
                            <li><a href="{% url 'app_book:publishBook' book.id %}">Veröffentlichen</a></li>
                        {% endif %}
                        <li><a href="{% url 'app_book:editBook' book.id %}">Bearbeiten</a></li>
                        <li><a href="{% url 'app_book:deleteBook' book.id %}" data-method="delete" data-confirm="true" title="Löschen">Löschen</a></li>
                    </ul>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
